"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/cosmic-analytics";
exports.ids = ["vendor-chunks/cosmic-analytics"];
exports.modules = {

/***/ "(rsc)/./node_modules/cosmic-analytics/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/cosmic-analytics/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CosmicAnalytics: () => (/* binding */ CosmicAnalytics),\n/* harmony export */   CosmicAnalyticsProvider: () => (/* binding */ CosmicAnalyticsProvider),\n/* harmony export */   getAnalytics: () => (/* binding */ getAnalytics),\n/* harmony export */   getReferrerSource: () => (/* binding */ getReferrerSource),\n/* harmony export */   initAnalytics: () => (/* binding */ initAnalytics),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser),\n/* harmony export */   parseUserAgent: () => (/* binding */ parseUserAgent),\n/* harmony export */   useCosmicAnalytics: () => (/* binding */ useCosmicAnalytics)\n/* harmony export */ });\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js\");\n// This file is generated by the Webpack next-flight-loader.\n\nconst CosmicAnalytics = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call CosmicAnalytics() from the server but CosmicAnalytics is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Users\\\\Akif Khan\\\\OneDrive\\\\Desktop\\\\Farmseva- site\\\\node_modules\\\\cosmic-analytics\\\\dist\\\\index.mjs\",\n\"CosmicAnalytics\",\n);const CosmicAnalyticsProvider = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call CosmicAnalyticsProvider() from the server but CosmicAnalyticsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Users\\\\Akif Khan\\\\OneDrive\\\\Desktop\\\\Farmseva- site\\\\node_modules\\\\cosmic-analytics\\\\dist\\\\index.mjs\",\n\"CosmicAnalyticsProvider\",\n);const getAnalytics = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call getAnalytics() from the server but getAnalytics is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Users\\\\Akif Khan\\\\OneDrive\\\\Desktop\\\\Farmseva- site\\\\node_modules\\\\cosmic-analytics\\\\dist\\\\index.mjs\",\n\"getAnalytics\",\n);const getReferrerSource = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call getReferrerSource() from the server but getReferrerSource is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Users\\\\Akif Khan\\\\OneDrive\\\\Desktop\\\\Farmseva- site\\\\node_modules\\\\cosmic-analytics\\\\dist\\\\index.mjs\",\n\"getReferrerSource\",\n);const initAnalytics = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call initAnalytics() from the server but initAnalytics is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Users\\\\Akif Khan\\\\OneDrive\\\\Desktop\\\\Farmseva- site\\\\node_modules\\\\cosmic-analytics\\\\dist\\\\index.mjs\",\n\"initAnalytics\",\n);const isBrowser = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call isBrowser() from the server but isBrowser is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Users\\\\Akif Khan\\\\OneDrive\\\\Desktop\\\\Farmseva- site\\\\node_modules\\\\cosmic-analytics\\\\dist\\\\index.mjs\",\n\"isBrowser\",\n);const parseUserAgent = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call parseUserAgent() from the server but parseUserAgent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Users\\\\Akif Khan\\\\OneDrive\\\\Desktop\\\\Farmseva- site\\\\node_modules\\\\cosmic-analytics\\\\dist\\\\index.mjs\",\n\"parseUserAgent\",\n);const useCosmicAnalytics = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call useCosmicAnalytics() from the server but useCosmicAnalytics is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"C:\\\\Users\\\\Akif Khan\\\\OneDrive\\\\Desktop\\\\Farmseva- site\\\\node_modules\\\\cosmic-analytics\\\\dist\\\\index.mjs\",\n\"useCosmicAnalytics\",\n);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvY29zbWljLWFuYWx5dGljcy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZXMiOlsiX05fRS8uL25vZGVfbW9kdWxlcy9jb3NtaWMtYW5hbHl0aWNzL2Rpc3QvaW5kZXgubWpzL19fbmV4dGpzLWludGVybmFsLXByb3h5Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBXZWJwYWNrIG5leHQtZmxpZ2h0LWxvYWRlci5cbmltcG9ydCB7IHJlZ2lzdGVyQ2xpZW50UmVmZXJlbmNlIH0gZnJvbSBcInJlYWN0LXNlcnZlci1kb20td2VicGFjay9zZXJ2ZXJcIjtcbmV4cG9ydCBjb25zdCBDb3NtaWNBbmFseXRpY3MgPSByZWdpc3RlckNsaWVudFJlZmVyZW5jZShcbmZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gY2FsbCBDb3NtaWNBbmFseXRpY3MoKSBmcm9tIHRoZSBzZXJ2ZXIgYnV0IENvc21pY0FuYWx5dGljcyBpcyBvbiB0aGUgY2xpZW50LiBJdCdzIG5vdCBwb3NzaWJsZSB0byBpbnZva2UgYSBjbGllbnQgZnVuY3Rpb24gZnJvbSB0aGUgc2VydmVyLCBpdCBjYW4gb25seSBiZSByZW5kZXJlZCBhcyBhIENvbXBvbmVudCBvciBwYXNzZWQgdG8gcHJvcHMgb2YgYSBDbGllbnQgQ29tcG9uZW50LlwiKTsgfSxcblwiQzpcXFxcVXNlcnNcXFxcQWtpZiBLaGFuXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcRmFybXNldmEtIHNpdGVcXFxcbm9kZV9tb2R1bGVzXFxcXGNvc21pYy1hbmFseXRpY3NcXFxcZGlzdFxcXFxpbmRleC5tanNcIixcblwiQ29zbWljQW5hbHl0aWNzXCIsXG4pO2V4cG9ydCBjb25zdCBDb3NtaWNBbmFseXRpY3NQcm92aWRlciA9IHJlZ2lzdGVyQ2xpZW50UmVmZXJlbmNlKFxuZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBjYWxsIENvc21pY0FuYWx5dGljc1Byb3ZpZGVyKCkgZnJvbSB0aGUgc2VydmVyIGJ1dCBDb3NtaWNBbmFseXRpY3NQcm92aWRlciBpcyBvbiB0aGUgY2xpZW50LiBJdCdzIG5vdCBwb3NzaWJsZSB0byBpbnZva2UgYSBjbGllbnQgZnVuY3Rpb24gZnJvbSB0aGUgc2VydmVyLCBpdCBjYW4gb25seSBiZSByZW5kZXJlZCBhcyBhIENvbXBvbmVudCBvciBwYXNzZWQgdG8gcHJvcHMgb2YgYSBDbGllbnQgQ29tcG9uZW50LlwiKTsgfSxcblwiQzpcXFxcVXNlcnNcXFxcQWtpZiBLaGFuXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcRmFybXNldmEtIHNpdGVcXFxcbm9kZV9tb2R1bGVzXFxcXGNvc21pYy1hbmFseXRpY3NcXFxcZGlzdFxcXFxpbmRleC5tanNcIixcblwiQ29zbWljQW5hbHl0aWNzUHJvdmlkZXJcIixcbik7ZXhwb3J0IGNvbnN0IGdldEFuYWx5dGljcyA9IHJlZ2lzdGVyQ2xpZW50UmVmZXJlbmNlKFxuZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBjYWxsIGdldEFuYWx5dGljcygpIGZyb20gdGhlIHNlcnZlciBidXQgZ2V0QW5hbHl0aWNzIGlzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCJDOlxcXFxVc2Vyc1xcXFxBa2lmIEtoYW5cXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxGYXJtc2V2YS0gc2l0ZVxcXFxub2RlX21vZHVsZXNcXFxcY29zbWljLWFuYWx5dGljc1xcXFxkaXN0XFxcXGluZGV4Lm1qc1wiLFxuXCJnZXRBbmFseXRpY3NcIixcbik7ZXhwb3J0IGNvbnN0IGdldFJlZmVycmVyU291cmNlID0gcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UoXG5mdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNhbGwgZ2V0UmVmZXJyZXJTb3VyY2UoKSBmcm9tIHRoZSBzZXJ2ZXIgYnV0IGdldFJlZmVycmVyU291cmNlIGlzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCJDOlxcXFxVc2Vyc1xcXFxBa2lmIEtoYW5cXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxGYXJtc2V2YS0gc2l0ZVxcXFxub2RlX21vZHVsZXNcXFxcY29zbWljLWFuYWx5dGljc1xcXFxkaXN0XFxcXGluZGV4Lm1qc1wiLFxuXCJnZXRSZWZlcnJlclNvdXJjZVwiLFxuKTtleHBvcnQgY29uc3QgaW5pdEFuYWx5dGljcyA9IHJlZ2lzdGVyQ2xpZW50UmVmZXJlbmNlKFxuZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBjYWxsIGluaXRBbmFseXRpY3MoKSBmcm9tIHRoZSBzZXJ2ZXIgYnV0IGluaXRBbmFseXRpY3MgaXMgb24gdGhlIGNsaWVudC4gSXQncyBub3QgcG9zc2libGUgdG8gaW52b2tlIGEgY2xpZW50IGZ1bmN0aW9uIGZyb20gdGhlIHNlcnZlciwgaXQgY2FuIG9ubHkgYmUgcmVuZGVyZWQgYXMgYSBDb21wb25lbnQgb3IgcGFzc2VkIHRvIHByb3BzIG9mIGEgQ2xpZW50IENvbXBvbmVudC5cIik7IH0sXG5cIkM6XFxcXFVzZXJzXFxcXEFraWYgS2hhblxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXEZhcm1zZXZhLSBzaXRlXFxcXG5vZGVfbW9kdWxlc1xcXFxjb3NtaWMtYW5hbHl0aWNzXFxcXGRpc3RcXFxcaW5kZXgubWpzXCIsXG5cImluaXRBbmFseXRpY3NcIixcbik7ZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9IHJlZ2lzdGVyQ2xpZW50UmVmZXJlbmNlKFxuZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBjYWxsIGlzQnJvd3NlcigpIGZyb20gdGhlIHNlcnZlciBidXQgaXNCcm93c2VyIGlzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCJDOlxcXFxVc2Vyc1xcXFxBa2lmIEtoYW5cXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxGYXJtc2V2YS0gc2l0ZVxcXFxub2RlX21vZHVsZXNcXFxcY29zbWljLWFuYWx5dGljc1xcXFxkaXN0XFxcXGluZGV4Lm1qc1wiLFxuXCJpc0Jyb3dzZXJcIixcbik7ZXhwb3J0IGNvbnN0IHBhcnNlVXNlckFnZW50ID0gcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UoXG5mdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNhbGwgcGFyc2VVc2VyQWdlbnQoKSBmcm9tIHRoZSBzZXJ2ZXIgYnV0IHBhcnNlVXNlckFnZW50IGlzIG9uIHRoZSBjbGllbnQuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIGludm9rZSBhIGNsaWVudCBmdW5jdGlvbiBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGNhbiBvbmx5IGJlIHJlbmRlcmVkIGFzIGEgQ29tcG9uZW50IG9yIHBhc3NlZCB0byBwcm9wcyBvZiBhIENsaWVudCBDb21wb25lbnQuXCIpOyB9LFxuXCJDOlxcXFxVc2Vyc1xcXFxBa2lmIEtoYW5cXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxGYXJtc2V2YS0gc2l0ZVxcXFxub2RlX21vZHVsZXNcXFxcY29zbWljLWFuYWx5dGljc1xcXFxkaXN0XFxcXGluZGV4Lm1qc1wiLFxuXCJwYXJzZVVzZXJBZ2VudFwiLFxuKTtleHBvcnQgY29uc3QgdXNlQ29zbWljQW5hbHl0aWNzID0gcmVnaXN0ZXJDbGllbnRSZWZlcmVuY2UoXG5mdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGNhbGwgdXNlQ29zbWljQW5hbHl0aWNzKCkgZnJvbSB0aGUgc2VydmVyIGJ1dCB1c2VDb3NtaWNBbmFseXRpY3MgaXMgb24gdGhlIGNsaWVudC4gSXQncyBub3QgcG9zc2libGUgdG8gaW52b2tlIGEgY2xpZW50IGZ1bmN0aW9uIGZyb20gdGhlIHNlcnZlciwgaXQgY2FuIG9ubHkgYmUgcmVuZGVyZWQgYXMgYSBDb21wb25lbnQgb3IgcGFzc2VkIHRvIHByb3BzIG9mIGEgQ2xpZW50IENvbXBvbmVudC5cIik7IH0sXG5cIkM6XFxcXFVzZXJzXFxcXEFraWYgS2hhblxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXEZhcm1zZXZhLSBzaXRlXFxcXG5vZGVfbW9kdWxlc1xcXFxjb3NtaWMtYW5hbHl0aWNzXFxcXGRpc3RcXFxcaW5kZXgubWpzXCIsXG5cInVzZUNvc21pY0FuYWx5dGljc1wiLFxuKTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/cosmic-analytics/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/cosmic-analytics/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/cosmic-analytics/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CosmicAnalytics: () => (/* binding */ CosmicAnalytics),\n/* harmony export */   CosmicAnalyticsProvider: () => (/* binding */ CosmicAnalyticsProvider),\n/* harmony export */   getAnalytics: () => (/* binding */ getAnalytics),\n/* harmony export */   getReferrerSource: () => (/* binding */ getReferrerSource),\n/* harmony export */   initAnalytics: () => (/* binding */ initAnalytics),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser),\n/* harmony export */   parseUserAgent: () => (/* binding */ parseUserAgent),\n/* harmony export */   useCosmicAnalytics: () => (/* binding */ useCosmicAnalytics)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* __next_internal_client_entry_do_not_use__ CosmicAnalytics,CosmicAnalyticsProvider,getAnalytics,getReferrerSource,initAnalytics,isBrowser,parseUserAgent,useCosmicAnalytics auto */ // src/client/useCosmicAnalytics.ts\n\n\n// src/lib/utils.ts\nfunction generateSessionId() {\n    return `${Date.now()}-${Math.random().toString(36).substring(2, 15)}`;\n}\nfunction isBrowser() {\n    return  false && 0;\n}\nfunction isDoNotTrackEnabled() {\n    if (!isBrowser()) return false;\n    const { doNotTrack, navigator: navigator2 } = window;\n    const dnt = doNotTrack || navigator2.doNotTrack || navigator2.msDoNotTrack;\n    return dnt === \"1\" || dnt === \"yes\";\n}\nfunction parseUserAgent(userAgent) {\n    const ua = userAgent.toLowerCase();\n    let type = \"desktop\";\n    if (/tablet|ipad|playbook|silk/i.test(ua)) {\n        type = \"tablet\";\n    } else if (/mobile|iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(ua)) {\n        type = \"mobile\";\n    }\n    let os = \"Unknown\";\n    if (/windows nt 10/i.test(ua)) os = \"Windows 10\";\n    else if (/windows nt 6.3/i.test(ua)) os = \"Windows 8.1\";\n    else if (/windows nt 6.2/i.test(ua)) os = \"Windows 8\";\n    else if (/windows nt 6.1/i.test(ua)) os = \"Windows 7\";\n    else if (/windows/i.test(ua)) os = \"Windows\";\n    else if (/android/i.test(ua)) os = \"Android\";\n    else if (/iphone|ipad|ipod/i.test(ua)) os = \"iOS\";\n    else if (/mac os x/i.test(ua)) os = \"macOS\";\n    else if (/linux/i.test(ua)) os = \"Linux\";\n    else if (/chromeos/i.test(ua)) os = \"Chrome OS\";\n    let browser = \"Unknown\";\n    let browserVersion = \"\";\n    if (/edg\\//i.test(ua)) {\n        browser = \"Edge\";\n        const match = ua.match(/edg\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    } else if (/chrome|crios/i.test(ua) && !/edg/i.test(ua)) {\n        browser = \"Chrome\";\n        const match = ua.match(/chrome\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    } else if (/firefox|fxios/i.test(ua)) {\n        browser = \"Firefox\";\n        const match = ua.match(/firefox\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    } else if (/safari/i.test(ua) && !/chrome|crios/i.test(ua)) {\n        browser = \"Safari\";\n        const match = ua.match(/version\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    } else if (/opera|opr/i.test(ua)) {\n        browser = \"Opera\";\n        const match = ua.match(/(?:opera|opr)\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    }\n    return {\n        type,\n        os,\n        browser,\n        browserVersion\n    };\n}\nfunction getViewport() {\n    if (!isBrowser()) return \"\";\n    return `${window.innerWidth}x${window.innerHeight}`;\n}\nfunction getScreenResolution() {\n    if (!isBrowser()) return \"\";\n    return `${window.screen.width}x${window.screen.height}`;\n}\nfunction getReferrerSource(referrer) {\n    if (!referrer || referrer === \"\") return \"direct\";\n    try {\n        const url = new URL(referrer);\n        const hostname = url.hostname.replace(\"www.\", \"\");\n        if (hostname.includes(\"facebook.com\") || hostname.includes(\"fb.com\")) return \"facebook\";\n        if (hostname.includes(\"twitter.com\") || hostname.includes(\"t.co\")) return \"twitter\";\n        if (hostname.includes(\"linkedin.com\")) return \"linkedin\";\n        if (hostname.includes(\"instagram.com\")) return \"instagram\";\n        if (hostname.includes(\"youtube.com\")) return \"youtube\";\n        if (hostname.includes(\"reddit.com\")) return \"reddit\";\n        if (hostname.includes(\"google.\")) return \"google\";\n        if (hostname.includes(\"bing.com\")) return \"bing\";\n        if (hostname.includes(\"yahoo.\")) return \"yahoo\";\n        if (hostname.includes(\"duckduckgo.com\")) return \"duckduckgo\";\n        if (hostname.includes(\"baidu.com\")) return \"baidu\";\n        return hostname;\n    } catch  {\n        return \"invalid\";\n    }\n}\nfunction safeJsonParse(json, fallback) {\n    try {\n        return JSON.parse(json);\n    } catch  {\n        return fallback;\n    }\n}\n// src/lib/analytics.ts\nvar SESSION_TIMEOUT = 30 * 60 * 1e3;\nvar SESSION_STORAGE_KEY = \"cosmic_analytics_session\";\nvar CosmicAnalytics = class {\n    constructor(config){\n        this.session = null;\n        this.pageViewStart = 0;\n        this.isEnabled = true;\n        this.queue = [];\n        this.flushTimer = null;\n        this.config = {\n            apiEndpoint: \"https://api.cosmic.new/analytics\",\n            debug: false,\n            enabled: true,\n            respectDoNotTrack: true,\n            sendInDevelopment: false,\n            ...config\n        };\n        this.projectId = this.config.projectId || this.getProjectId();\n        this.apiEndpoint = this.config.apiEndpoint;\n        this.isEnabled = this.shouldEnableAnalytics();\n        if (this.isEnabled && isBrowser()) {\n            this.initializeSession();\n            this.setupEventListeners();\n            this.startFlushTimer();\n        }\n    }\n    getProjectId() {\n        return \"\";\n    }\n    isDevelopmentMode() {\n        if (typeof this.config.isDevelopment === \"boolean\") {\n            return this.config.isDevelopment;\n        }\n        if (typeof globalThis.process !== \"undefined\") {\n            return globalThis.process.env?.NODE_ENV === \"development\";\n        }\n        if (isBrowser()) {\n            if (window.__NEXT_DATA__?.buildId === \"development\") {\n                return true;\n            }\n            const hostname = window.location.hostname;\n            return hostname === \"localhost\" || hostname === \"127.0.0.1\" || hostname.includes(\".local\");\n        }\n        return false;\n    }\n    shouldEnableAnalytics() {\n        if (!this.config.enabled) return false;\n        if (!this.projectId) {\n            if (this.config.debug) {\n                console.warn(\"Cosmic Analytics: NEXT_PUBLIC_CLIENT_ID not found\");\n            }\n            return false;\n        }\n        if (this.isDevelopmentMode() && !this.config.sendInDevelopment) {\n            if (this.config.debug) {\n                console.log(\"Cosmic Analytics: Disabled in development mode. Set sendInDevelopment: true to enable.\");\n            }\n            return false;\n        }\n        if (this.config.respectDoNotTrack && isDoNotTrackEnabled()) {\n            if (this.config.debug) {\n                console.log(\"Cosmic Analytics: Respecting Do Not Track preference\");\n            }\n            return false;\n        }\n        return true;\n    }\n    initializeSession() {\n        const storedSession = this.getStoredSession();\n        if (storedSession && this.isSessionValid(storedSession)) {\n            this.session = storedSession;\n            this.session.lastActivity = Date.now();\n        } else {\n            this.session = {\n                id: generateSessionId(),\n                startTime: Date.now(),\n                pageViews: 0,\n                lastActivity: Date.now()\n            };\n        }\n        this.saveSession();\n    }\n    getStoredSession() {\n        if (!isBrowser()) return null;\n        try {\n            const stored = sessionStorage.getItem(SESSION_STORAGE_KEY);\n            if (!stored) return null;\n            return safeJsonParse(stored, null);\n        } catch  {\n            return null;\n        }\n    }\n    isSessionValid(session) {\n        const now = Date.now();\n        return now - session.lastActivity < SESSION_TIMEOUT;\n    }\n    saveSession() {\n        if (!isBrowser() || !this.session) return;\n        try {\n            sessionStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(this.session));\n        } catch (error) {\n            if (this.config.debug) {\n                console.error(\"Cosmic Analytics: Failed to save session\", error);\n            }\n        }\n    }\n    setupEventListeners() {\n        if (!isBrowser()) return;\n        document.addEventListener(\"visibilitychange\", ()=>{\n            if (document.visibilityState === \"hidden\") {\n                this.trackPageExit();\n                this.flush(true);\n            } else if (document.visibilityState === \"visible\") {\n                this.trackPageView();\n            }\n        });\n        window.addEventListener(\"beforeunload\", ()=>{\n            this.trackPageExit();\n            this.flush(true);\n        });\n    }\n    startFlushTimer() {\n        this.flushTimer = setInterval(()=>{\n            this.flush();\n        }, 5e3);\n    }\n    stopFlushTimer() {\n        if (this.flushTimer) {\n            clearInterval(this.flushTimer);\n            this.flushTimer = null;\n        }\n    }\n    addToQueue(event) {\n        this.queue.push(event);\n        if (this.queue.length >= 10) {\n            this.flush();\n        }\n    }\n    async flush(forceSendNow = false) {\n        if (this.queue.length === 0) return;\n        const events = [\n            ...this.queue\n        ];\n        this.queue = [];\n        try {\n            const response = await fetch(`${this.apiEndpoint}/track`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    events\n                }),\n                keepalive: forceSendNow\n            });\n            if (!response.ok && this.config.debug) {\n                console.error(\"Cosmic Analytics: Failed to send events\", response.status);\n                this.queue.unshift(...events);\n            }\n        } catch (error) {\n            if (this.config.debug) {\n                console.error(\"Cosmic Analytics: Error sending events\", error);\n            }\n            this.queue.unshift(...events);\n        }\n    }\n    trackPageView(overrides) {\n        if (!this.isEnabled || !isBrowser() || !this.session) return;\n        this.pageViewStart = Date.now();\n        this.session.pageViews++;\n        this.session.lastActivity = Date.now();\n        this.saveSession();\n        const event = {\n            event: \"pageview\",\n            projectId: this.projectId,\n            sessionId: this.session.id,\n            url: window.location.href,\n            title: document.title,\n            referrer: document.referrer || \"direct\",\n            timestamp: Date.now(),\n            screenResolution: getScreenResolution(),\n            viewport: getViewport(),\n            language: navigator.language,\n            userAgent: navigator.userAgent,\n            ...overrides\n        };\n        if (this.config.debug) {\n            console.log(\"Cosmic Analytics: Page view\", event);\n        }\n        this.addToQueue(event);\n    }\n    trackPageExit() {\n        if (!this.isEnabled || !isBrowser() || !this.session || !this.pageViewStart) return;\n        const duration = Date.now() - this.pageViewStart;\n        const event = {\n            event: \"pageexit\",\n            projectId: this.projectId,\n            sessionId: this.session.id,\n            url: window.location.href,\n            duration,\n            timestamp: Date.now()\n        };\n        if (this.config.debug) {\n            console.log(\"Cosmic Analytics: Page exit\", event);\n        }\n        this.addToQueue(event);\n    }\n    reset() {\n        if (!isBrowser()) return;\n        this.session = null;\n        sessionStorage.removeItem(SESSION_STORAGE_KEY);\n        if (this.isEnabled) {\n            this.initializeSession();\n        }\n    }\n    disable() {\n        this.isEnabled = false;\n        this.stopFlushTimer();\n        this.queue = [];\n    }\n    enable() {\n        this.isEnabled = this.shouldEnableAnalytics();\n        if (this.isEnabled && isBrowser()) {\n            this.initializeSession();\n            this.startFlushTimer();\n        }\n    }\n};\n// src/client/useCosmicAnalytics.ts\nvar analyticsInstance = null;\nfunction initAnalytics(config) {\n    if (!analyticsInstance) {\n        analyticsInstance = new CosmicAnalytics(config);\n    }\n    return analyticsInstance;\n}\nfunction getAnalytics() {\n    return analyticsInstance;\n}\nfunction useCosmicAnalytics(config) {\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.usePathname)();\n    const initializedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const prevUrlRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useCosmicAnalytics.useEffect\": ()=>{\n            if (!initializedRef.current) {\n                initAnalytics(config);\n                initializedRef.current = true;\n            }\n            const analytics = getAnalytics();\n            if (!analytics) return;\n            const currentUrl =  false ? 0 : pathname;\n            if (prevUrlRef.current !== currentUrl) {\n                analytics.trackPageView();\n                prevUrlRef.current = currentUrl;\n            }\n            return ({\n                \"useCosmicAnalytics.useEffect\": ()=>{\n                    analytics.trackPageExit();\n                }\n            })[\"useCosmicAnalytics.useEffect\"];\n        }\n    }[\"useCosmicAnalytics.useEffect\"], [\n        pathname,\n        config\n    ]);\n}\n// src/client/CosmicAnalyticsProvider.tsx\n\nfunction CosmicAnalyticsProvider({ children, config }) {\n    const projectId = process.env.NEXT_PUBLIC_CLIENT_ID;\n    const isDevelopment = \"development\" === \"development\";\n    const mergedConfig = {\n        projectId,\n        isDevelopment,\n        ...config\n    };\n    useCosmicAnalytics(mergedConfig);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children\n    });\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29zbWljLWFuYWx5dGljcy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFFa0M7QUFDTjs7QUNFckIsU0FBUyxvQkFBNEI7SUFDMUMsT0FBTyxHQUFHLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUNyRTtBQUtPLFNBQVMsWUFBcUI7SUFDbkMsT0FBTyxNQUFrQixJQUFlLENBQW9CO0FBQzlEO0FBS08sU0FBUyxzQkFBK0I7SUFDN0MsSUFBSSxDQUFDLFVBQVUsRUFBRyxRQUFPO0lBRXpCLE1BQU0sRUFBRSxZQUFZLFdBQUFBLFVBQUFBLENBQVUsSUFBSTtJQUNsQyxNQUFNLE1BQU0sY0FBY0EsV0FBVSxjQUFjQSxXQUFVO0lBRTVELE9BQU8sUUFBUSxPQUFPLFFBQVE7QUFDaEM7QUFLTyxTQUFTLGVBQWUsV0FBK0I7SUFDNUQsTUFBTSxLQUFLLFVBQVUsWUFBWTtJQUdqQyxJQUFJLE9BQXdDO0lBQzVDLElBQUksNkJBQTZCLEtBQUssRUFBRSxHQUFHO1FBQ3pDLE9BQU87SUFDVCxXQUFXLHlGQUF5RixLQUFLLEVBQUUsR0FBRztRQUM1RyxPQUFPO0lBQ1Q7SUFHQSxJQUFJLEtBQUs7SUFDVCxJQUFJLGlCQUFpQixLQUFLLEVBQUUsRUFBRyxNQUFLO1NBQUEsSUFDM0Isa0JBQWtCLEtBQUssRUFBRSxFQUFHLE1BQUs7U0FBQSxJQUNqQyxrQkFBa0IsS0FBSyxFQUFFLEVBQUcsTUFBSztTQUFBLElBQ2pDLGtCQUFrQixLQUFLLEVBQUUsRUFBRyxNQUFLO1NBQUEsSUFDakMsV0FBVyxLQUFLLEVBQUUsRUFBRyxNQUFLO1NBQUEsSUFDMUIsV0FBVyxLQUFLLEVBQUUsRUFBRyxNQUFLO1NBQUEsSUFDMUIsb0JBQW9CLEtBQUssRUFBRSxFQUFHLE1BQUs7U0FBQSxJQUNuQyxZQUFZLEtBQUssRUFBRSxFQUFHLE1B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O0lBQzlCLE1BQU0sZ0JBQWdCLFFBQVEsSUFBSSxNQUFhO0lBRy9DLE1BQU0sZUFBZ0M7UUFDcEM7UUFDQTtRQUNBLEdBQUc7SUFDTDtJQUVBLG1CQUFtQixZQUFZO0lBRS9CLE9BQU87UUFBRztJQUFBLENBQVM7QUFDckIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWtpZiBLaGFuXFxPbmVEcml2ZVxcRGVza3RvcFxcc3JjXFxjbGllbnRcXHVzZUNvc21pY0FuYWx5dGljcy50cyIsIkM6XFxVc2Vyc1xcQWtpZiBLaGFuXFxPbmVEcml2ZVxcRGVza3RvcFxcc3JjXFxsaWJcXHV0aWxzLnRzIiwiQzpcXFVzZXJzXFxBa2lmIEtoYW5cXE9uZURyaXZlXFxEZXNrdG9wXFxzcmNcXGxpYlxcYW5hbHl0aWNzLnRzIiwiQzpcXFVzZXJzXFxBa2lmIEtoYW5cXE9uZURyaXZlXFxEZXNrdG9wXFxzcmNcXGNsaWVudFxcQ29zbWljQW5hbHl0aWNzUHJvdmlkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VQYXRobmFtZSB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgdHlwZSB7IEFuYWx5dGljc0NvbmZpZyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENvc21pY0FuYWx5dGljcyB9IGZyb20gJy4uL2xpYi9hbmFseXRpY3MnO1xuXG5sZXQgYW5hbHl0aWNzSW5zdGFuY2U6IENvc21pY0FuYWx5dGljcyB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIGFuYWx5dGljcyBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEFuYWx5dGljcyhjb25maWc/OiBBbmFseXRpY3NDb25maWcpOiBDb3NtaWNBbmFseXRpY3Mge1xuICBpZiAoIWFuYWx5dGljc0luc3RhbmNlKSB7XG4gICAgYW5hbHl0aWNzSW5zdGFuY2UgPSBuZXcgQ29zbWljQW5hbHl0aWNzKGNvbmZpZyk7XG4gIH1cbiAgcmV0dXJuIGFuYWx5dGljc0luc3RhbmNlO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBhbmFseXRpY3MgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFuYWx5dGljcygpOiBDb3NtaWNBbmFseXRpY3MgfCBudWxsIHtcbiAgcmV0dXJuIGFuYWx5dGljc0luc3RhbmNlO1xufVxuXG4vKipcbiAqIFJlYWN0IGhvb2sgZm9yIENvc21pYyBBbmFseXRpY3Mgd2l0aCBOZXh0LmpzIEFwcCBSb3V0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvc21pY0FuYWx5dGljcyhjb25maWc/OiBBbmFseXRpY3NDb25maWcpIHtcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpO1xuICBjb25zdCBpbml0aWFsaXplZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHByZXZVcmxSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJbml0aWFsaXplIGFuYWx5dGljcyBvbiBmaXJzdCByZW5kZXJcbiAgICBpZiAoIWluaXRpYWxpemVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIGluaXRBbmFseXRpY3MoY29uZmlnKTtcbiAgICAgIGluaXRpYWxpemVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGFuYWx5dGljcyA9IGdldEFuYWx5dGljcygpO1xuICAgIGlmICghYW5hbHl0aWNzKSByZXR1cm47XG5cbiAgICAvLyBUcmFjayBwYWdlIHZpZXcgd2hlbiBVUkwgY2hhbmdlc1xuICAgIC8vIFdlIHVzZSB3aW5kb3cubG9jYXRpb24uaHJlZiB0byBnZXQgdGhlIGZ1bGwgVVJMIGluY2x1ZGluZyBzZWFyY2ggcGFyYW1zXG4gICAgLy8gVGhpcyBhdm9pZHMgbmVlZGluZyB1c2VTZWFyY2hQYXJhbXMgd2hpY2ggcmVxdWlyZXMgU3VzcGVuc2VcbiAgICBjb25zdCBjdXJyZW50VXJsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IHBhdGhuYW1lO1xuICAgIFxuICAgIGlmIChwcmV2VXJsUmVmLmN1cnJlbnQgIT09IGN1cnJlbnRVcmwpIHtcbiAgICAgIGFuYWx5dGljcy50cmFja1BhZ2VWaWV3KCk7XG4gICAgICBwcmV2VXJsUmVmLmN1cnJlbnQgPSBjdXJyZW50VXJsO1xuICAgIH1cblxuICAgIC8vIENsZWFudXAgZnVuY3Rpb24gdG8gdHJhY2sgcGFnZSBleGl0XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGFuYWx5dGljcy50cmFja1BhZ2VFeGl0KCk7XG4gICAgfTtcbiAgfSwgW3BhdGhuYW1lLCBjb25maWddKTtcbn0gIiwiaW1wb3J0IHR5cGUgeyBEZXZpY2VJbmZvIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIHNlc3Npb24gSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlU2Vzc2lvbklkKCk6IHN0cmluZyB7XG4gIHJldHVybiBgJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSl9YDtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBydW5uaW5nIGluIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQnJvd3NlcigpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgRG8gTm90IFRyYWNrIGlzIGVuYWJsZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRG9Ob3RUcmFja0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gIGlmICghaXNCcm93c2VyKCkpIHJldHVybiBmYWxzZTtcbiAgXG4gIGNvbnN0IHsgZG9Ob3RUcmFjaywgbmF2aWdhdG9yIH0gPSB3aW5kb3cgYXMgYW55O1xuICBjb25zdCBkbnQgPSBkb05vdFRyYWNrIHx8IG5hdmlnYXRvci5kb05vdFRyYWNrIHx8IG5hdmlnYXRvci5tc0RvTm90VHJhY2s7XG4gIFxuICByZXR1cm4gZG50ID09PSAnMScgfHwgZG50ID09PSAneWVzJztcbn1cblxuLyoqXG4gKiBQYXJzZSB1c2VyIGFnZW50IHRvIGV4dHJhY3QgZGV2aWNlIGluZm9ybWF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVzZXJBZ2VudCh1c2VyQWdlbnQ6IHN0cmluZyk6IERldmljZUluZm8ge1xuICBjb25zdCB1YSA9IHVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICBcbiAgLy8gRGV0ZWN0IGRldmljZSB0eXBlXG4gIGxldCB0eXBlOiAnZGVza3RvcCcgfCAnbW9iaWxlJyB8ICd0YWJsZXQnID0gJ2Rlc2t0b3AnO1xuICBpZiAoL3RhYmxldHxpcGFkfHBsYXlib29rfHNpbGsvaS50ZXN0KHVhKSkge1xuICAgIHR5cGUgPSAndGFibGV0JztcbiAgfSBlbHNlIGlmICgvbW9iaWxlfGlwaG9uZXxpcG9kfGFuZHJvaWR8YmxhY2tiZXJyeXxvcGVyYXxtaW5pfHdpbmRvd3NcXHNjZXxwYWxtfHNtYXJ0cGhvbmV8aWVtb2JpbGUvaS50ZXN0KHVhKSkge1xuICAgIHR5cGUgPSAnbW9iaWxlJztcbiAgfVxuICBcbiAgLy8gRGV0ZWN0IE9TXG4gIGxldCBvcyA9ICdVbmtub3duJztcbiAgaWYgKC93aW5kb3dzIG50IDEwL2kudGVzdCh1YSkpIG9zID0gJ1dpbmRvd3MgMTAnO1xuICBlbHNlIGlmICgvd2luZG93cyBudCA2LjMvaS50ZXN0KHVhKSkgb3MgPSAnV2luZG93cyA4LjEnO1xuICBlbHNlIGlmICgvd2luZG93cyBudCA2LjIvaS50ZXN0KHVhKSkgb3MgPSAnV2luZG93cyA4JztcbiAgZWxzZSBpZiAoL3dpbmRvd3MgbnQgNi4xL2kudGVzdCh1YSkpIG9zID0gJ1dpbmRvd3MgNyc7XG4gIGVsc2UgaWYgKC93aW5kb3dzL2kudGVzdCh1YSkpIG9zID0gJ1dpbmRvd3MnO1xuICBlbHNlIGlmICgvYW5kcm9pZC9pLnRlc3QodWEpKSBvcyA9ICdBbmRyb2lkJztcbiAgZWxzZSBpZiAoL2lwaG9uZXxpcGFkfGlwb2QvaS50ZXN0KHVhKSkgb3MgPSAnaU9TJztcbiAgZWxzZSBpZiAoL21hYyBvcyB4L2kudGVzdCh1YSkpIG9zID0gJ21hY09TJztcbiAgZWxzZSBpZiAoL2xpbnV4L2kudGVzdCh1YSkpIG9zID0gJ0xpbnV4JztcbiAgZWxzZSBpZiAoL2Nocm9tZW9zL2kudGVzdCh1YSkpIG9zID0gJ0Nocm9tZSBPUyc7XG4gIFxuICAvLyBEZXRlY3QgYnJvd3NlclxuICBsZXQgYnJvd3NlciA9ICdVbmtub3duJztcbiAgbGV0IGJyb3dzZXJWZXJzaW9uID0gJyc7XG4gIFxuICBpZiAoL2VkZ1xcLy9pLnRlc3QodWEpKSB7XG4gICAgYnJvd3NlciA9ICdFZGdlJztcbiAgICBjb25zdCBtYXRjaCA9IHVhLm1hdGNoKC9lZGdcXC8oXFxkKyhcXC5cXGQrKSopLyk7XG4gICAgaWYgKG1hdGNoKSBicm93c2VyVmVyc2lvbiA9IG1hdGNoWzFdO1xuICB9IGVsc2UgaWYgKC9jaHJvbWV8Y3Jpb3MvaS50ZXN0KHVhKSAmJiAhL2VkZy9pLnRlc3QodWEpKSB7XG4gICAgYnJvd3NlciA9ICdDaHJvbWUnO1xuICAgIGNvbnN0IG1hdGNoID0gdWEubWF0Y2goL2Nocm9tZVxcLyhcXGQrKFxcLlxcZCspKikvKTtcbiAgICBpZiAobWF0Y2gpIGJyb3dzZXJWZXJzaW9uID0gbWF0Y2hbMV07XG4gIH0gZWxzZSBpZiAoL2ZpcmVmb3h8Znhpb3MvaS50ZXN0KHVhKSkge1xuICAgIGJyb3dzZXIgPSAnRmlyZWZveCc7XG4gICAgY29uc3QgbWF0Y2ggPSB1YS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKFxcLlxcZCspKikvKTtcbiAgICBpZiAobWF0Y2gpIGJyb3dzZXJWZXJzaW9uID0gbWF0Y2hbMV07XG4gIH0gZWxzZSBpZiAoL3NhZmFyaS9pLnRlc3QodWEpICYmICEvY2hyb21lfGNyaW9zL2kudGVzdCh1YSkpIHtcbiAgICBicm93c2VyID0gJ1NhZmFyaSc7XG4gICAgY29uc3QgbWF0Y2ggPSB1YS5tYXRjaCgvdmVyc2lvblxcLyhcXGQrKFxcLlxcZCspKikvKTtcbiAgICBpZiAobWF0Y2gpIGJyb3dzZXJWZXJzaW9uID0gbWF0Y2hbMV07XG4gIH0gZWxzZSBpZiAoL29wZXJhfG9wci9pLnRlc3QodWEpKSB7XG4gICAgYnJvd3NlciA9ICdPcGVyYSc7XG4gICAgY29uc3QgbWF0Y2ggPSB1YS5tYXRjaCgvKD86b3BlcmF8b3ByKVxcLyhcXGQrKFxcLlxcZCspKikvKTtcbiAgICBpZiAobWF0Y2gpIGJyb3dzZXJWZXJzaW9uID0gbWF0Y2hbMV07XG4gIH1cbiAgXG4gIHJldHVybiB7IHR5cGUsIG9zLCBicm93c2VyLCBicm93c2VyVmVyc2lvbiB9O1xufVxuXG4vKipcbiAqIEdldCB2aWV3cG9ydCBkaW1lbnNpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3cG9ydCgpOiBzdHJpbmcge1xuICBpZiAoIWlzQnJvd3NlcigpKSByZXR1cm4gJyc7XG4gIHJldHVybiBgJHt3aW5kb3cuaW5uZXJXaWR0aH14JHt3aW5kb3cuaW5uZXJIZWlnaHR9YDtcbn1cblxuLyoqXG4gKiBHZXQgc2NyZWVuIHJlc29sdXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcmVlblJlc29sdXRpb24oKTogc3RyaW5nIHtcbiAgaWYgKCFpc0Jyb3dzZXIoKSkgcmV0dXJuICcnO1xuICByZXR1cm4gYCR7d2luZG93LnNjcmVlbi53aWR0aH14JHt3aW5kb3cuc2NyZWVuLmhlaWdodH1gO1xufVxuXG4vKipcbiAqIEdldCByZWZlcnJlciBzb3VyY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZmVycmVyU291cmNlKHJlZmVycmVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXJlZmVycmVyIHx8IHJlZmVycmVyID09PSAnJykgcmV0dXJuICdkaXJlY3QnO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlZmVycmVyKTtcbiAgICBjb25zdCBob3N0bmFtZSA9IHVybC5ob3N0bmFtZS5yZXBsYWNlKCd3d3cuJywgJycpO1xuICAgIFxuICAgIC8vIENvbW1vbiBzb2NpYWwgbWVkaWEgcGxhdGZvcm1zXG4gICAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdmYWNlYm9vay5jb20nKSB8fCBob3N0bmFtZS5pbmNsdWRlcygnZmIuY29tJykpIHJldHVybiAnZmFjZWJvb2snO1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcygndHdpdHRlci5jb20nKSB8fCBob3N0bmFtZS5pbmNsdWRlcygndC5jbycpKSByZXR1cm4gJ3R3aXR0ZXInO1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcygnbGlua2VkaW4uY29tJykpIHJldHVybiAnbGlua2VkaW4nO1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcygnaW5zdGFncmFtLmNvbScpKSByZXR1cm4gJ2luc3RhZ3JhbSc7XG4gICAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCd5b3V0dWJlLmNvbScpKSByZXR1cm4gJ3lvdXR1YmUnO1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcygncmVkZGl0LmNvbScpKSByZXR1cm4gJ3JlZGRpdCc7XG4gICAgXG4gICAgLy8gU2VhcmNoIGVuZ2luZXNcbiAgICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ2dvb2dsZS4nKSkgcmV0dXJuICdnb29nbGUnO1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcygnYmluZy5jb20nKSkgcmV0dXJuICdiaW5nJztcbiAgICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ3lhaG9vLicpKSByZXR1cm4gJ3lhaG9vJztcbiAgICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ2R1Y2tkdWNrZ28uY29tJykpIHJldHVybiAnZHVja2R1Y2tnbyc7XG4gICAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdiYWlkdS5jb20nKSkgcmV0dXJuICdiYWlkdSc7XG4gICAgXG4gICAgcmV0dXJuIGhvc3RuYW1lO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gJ2ludmFsaWQnO1xuICB9XG59XG5cbi8qKlxuICogRGVib3VuY2UgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG4gIGZ1bmM6IFQsXG4gIHdhaXQ6IG51bWJlclxuKTogKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHZvaWQge1xuICBsZXQgdGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcbiAgXG4gIHJldHVybiBmdW5jdGlvbiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikge1xuICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gZnVuYyguLi5hcmdzKSwgd2FpdCk7XG4gIH07XG59XG5cbi8qKlxuICogU2FmZSBKU09OIHBhcnNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlSnNvblBhcnNlPFQ+KGpzb246IHN0cmluZywgZmFsbGJhY2s6IFQpOiBUIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9XG59ICIsImltcG9ydCB0eXBlIHsgQW5hbHl0aWNzQ29uZmlnLCBBbmFseXRpY3NFdmVudCwgUGFnZVZpZXdFdmVudCwgU2Vzc2lvbkRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICBnZW5lcmF0ZVNlc3Npb25JZCxcbiAgaXNCcm93c2VyLFxuICBpc0RvTm90VHJhY2tFbmFibGVkLFxuICBnZXRWaWV3cG9ydCxcbiAgZ2V0U2NyZWVuUmVzb2x1dGlvbixcbiAgc2FmZUpzb25QYXJzZSxcbn0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IFNFU1NJT05fVElNRU9VVCA9IDMwICogNjAgKiAxMDAwOyAvLyAzMCBtaW51dGVzXG5jb25zdCBTRVNTSU9OX1NUT1JBR0VfS0VZID0gJ2Nvc21pY19hbmFseXRpY3Nfc2Vzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBDb3NtaWNBbmFseXRpY3Mge1xuICBwcml2YXRlIHByb2plY3RJZDogc3RyaW5nO1xuICBwcml2YXRlIGFwaUVuZHBvaW50OiBzdHJpbmc7XG4gIHByaXZhdGUgY29uZmlnOiBBbmFseXRpY3NDb25maWc7XG4gIHByaXZhdGUgc2Vzc2lvbjogU2Vzc2lvbkRhdGEgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBwYWdlVmlld1N0YXJ0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGlzRW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XG4gIHByaXZhdGUgcXVldWU6IEFuYWx5dGljc0V2ZW50W10gPSBbXTtcbiAgcHJpdmF0ZSBmbHVzaFRpbWVyOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZz86IEFuYWx5dGljc0NvbmZpZykge1xuICAgIC8vIE1lcmdlIGRlZmF1bHQgY29uZmlnIHdpdGggdXNlciBjb25maWcgZmlyc3RcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGFwaUVuZHBvaW50OiAnaHR0cHM6Ly9hcGkuY29zbWljLm5ldy9hbmFseXRpY3MnLFxuICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIHJlc3BlY3REb05vdFRyYWNrOiB0cnVlLFxuICAgICAgc2VuZEluRGV2ZWxvcG1lbnQ6IGZhbHNlLFxuICAgICAgLi4uY29uZmlnLFxuICAgIH07XG4gICAgXG4gICAgLy8gR2V0IHByb2plY3QgSUQgZnJvbSBjb25maWcgb3IgZW52aXJvbm1lbnQgdmFyaWFibGVcbiAgICB0aGlzLnByb2plY3RJZCA9IHRoaXMuY29uZmlnLnByb2plY3RJZCB8fCB0aGlzLmdldFByb2plY3RJZCgpO1xuICAgIFxuICAgIHRoaXMuYXBpRW5kcG9pbnQgPSB0aGlzLmNvbmZpZy5hcGlFbmRwb2ludCE7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgYW5hbHl0aWNzIHNob3VsZCBiZSBlbmFibGVkXG4gICAgdGhpcy5pc0VuYWJsZWQgPSB0aGlzLnNob3VsZEVuYWJsZUFuYWx5dGljcygpO1xuICAgIFxuICAgIGlmICh0aGlzLmlzRW5hYmxlZCAmJiBpc0Jyb3dzZXIoKSkge1xuICAgICAgdGhpcy5pbml0aWFsaXplU2Vzc2lvbigpO1xuICAgICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLnN0YXJ0Rmx1c2hUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0UHJvamVjdElkKCk6IHN0cmluZyB7XG4gICAgLy8gU2ltcGx5IHJldHVybiBlbXB0eSBzdHJpbmcgYXMgZmFsbGJhY2tcbiAgICAvLyBUaGUgcHJvamVjdElkIHNob3VsZCBiZSBwcm92aWRlZCB2aWEgY29uZmlnIGZyb20gdGhlIFJlYWN0IGNvbXBvbmVudFxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHByaXZhdGUgaXNEZXZlbG9wbWVudE1vZGUoKTogYm9vbGVhbiB7XG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgaXNEZXZlbG9wbWVudCBpcyBleHBsaWNpdGx5IHNldCBpbiBjb25maWdcbiAgICBpZiAodHlwZW9mIHRoaXMuY29uZmlnLmlzRGV2ZWxvcG1lbnQgPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmlzRGV2ZWxvcG1lbnQ7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGZvciBOb2RlLmpzIGVudmlyb25tZW50IChOZXh0LmpzIHNlcnZlci1zaWRlKVxuICAgIGlmICh0eXBlb2YgKGdsb2JhbFRoaXMgYXMgYW55KS5wcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIChnbG9iYWxUaGlzIGFzIGFueSkucHJvY2Vzcy5lbnY/Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3IgYnJvd3NlciBlbnZpcm9ubWVudFxuICAgIGlmIChpc0Jyb3dzZXIoKSkge1xuICAgICAgLy8gQ2hlY2sgTmV4dC5qcyBydW50aW1lIGNvbmZpZ1xuICAgICAgaWYgKCh3aW5kb3cgYXMgYW55KS5fX05FWFRfREFUQV9fPy5idWlsZElkID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayB0byBjaGVja2luZyBob3N0bmFtZVxuICAgICAgY29uc3QgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgICByZXR1cm4gaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8IGhvc3RuYW1lID09PSAnMTI3LjAuMC4xJyB8fCBob3N0bmFtZS5pbmNsdWRlcygnLmxvY2FsJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkRW5hYmxlQW5hbHl0aWNzKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5jb25maWcuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghdGhpcy5wcm9qZWN0SWQpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0Nvc21pYyBBbmFseXRpY3M6IE5FWFRfUFVCTElDX0NMSUVOVF9JRCBub3QgZm91bmQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQgbW9kZSBhbmQgaWYgc2VuZEluRGV2ZWxvcG1lbnQgaXMgZmFsc2UgKGRlZmF1bHQpXG4gICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudE1vZGUoKSAmJiAhdGhpcy5jb25maWcuc2VuZEluRGV2ZWxvcG1lbnQpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZygnQ29zbWljIEFuYWx5dGljczogRGlzYWJsZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZS4gU2V0IHNlbmRJbkRldmVsb3BtZW50OiB0cnVlIHRvIGVuYWJsZS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVzcGVjdCBEbyBOb3QgVHJhY2sgaWYgY29uZmlndXJlZFxuICAgIGlmICh0aGlzLmNvbmZpZy5yZXNwZWN0RG9Ob3RUcmFjayAmJiBpc0RvTm90VHJhY2tFbmFibGVkKCkpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZygnQ29zbWljIEFuYWx5dGljczogUmVzcGVjdGluZyBEbyBOb3QgVHJhY2sgcHJlZmVyZW5jZScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVNlc3Npb24oKTogdm9pZCB7XG4gICAgY29uc3Qgc3RvcmVkU2Vzc2lvbiA9IHRoaXMuZ2V0U3RvcmVkU2Vzc2lvbigpO1xuICAgIFxuICAgIGlmIChzdG9yZWRTZXNzaW9uICYmIHRoaXMuaXNTZXNzaW9uVmFsaWQoc3RvcmVkU2Vzc2lvbikpIHtcbiAgICAgIHRoaXMuc2Vzc2lvbiA9IHN0b3JlZFNlc3Npb247XG4gICAgICB0aGlzLnNlc3Npb24ubGFzdEFjdGl2aXR5ID0gRGF0ZS5ub3coKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXNzaW9uID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVTZXNzaW9uSWQoKSxcbiAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICBwYWdlVmlld3M6IDAsXG4gICAgICAgIGxhc3RBY3Rpdml0eTogRGF0ZS5ub3coKSxcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc2F2ZVNlc3Npb24oKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3RvcmVkU2Vzc2lvbigpOiBTZXNzaW9uRGF0YSB8IG51bGwge1xuICAgIGlmICghaXNCcm93c2VyKCkpIHJldHVybiBudWxsO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVkpO1xuICAgICAgaWYgKCFzdG9yZWQpIHJldHVybiBudWxsO1xuICAgICAgXG4gICAgICByZXR1cm4gc2FmZUpzb25QYXJzZTxTZXNzaW9uRGF0YSB8IG51bGw+KHN0b3JlZCwgbnVsbCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzU2Vzc2lvblZhbGlkKHNlc3Npb246IFNlc3Npb25EYXRhKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gbm93IC0gc2Vzc2lvbi5sYXN0QWN0aXZpdHkgPCBTRVNTSU9OX1RJTUVPVVQ7XG4gIH1cblxuICBwcml2YXRlIHNhdmVTZXNzaW9uKCk6IHZvaWQge1xuICAgIGlmICghaXNCcm93c2VyKCkgfHwgIXRoaXMuc2Vzc2lvbikgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHRoaXMuc2Vzc2lvbikpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ29zbWljIEFuYWx5dGljczogRmFpbGVkIHRvIHNhdmUgc2Vzc2lvbicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgaWYgKCFpc0Jyb3dzZXIoKSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFBhZ2UgdmlzaWJpbGl0eSBjaGFuZ2VcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgdGhpcy50cmFja1BhZ2VFeGl0KCk7XG4gICAgICAgIHRoaXMuZmx1c2godHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICAgIC8vIFRyYWNrIGEgbmV3IHBhZ2UgdmlldyB3aGVuIHJldHVybmluZyB0byB0aGUgdGFiXG4gICAgICAgIHRoaXMudHJhY2tQYWdlVmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIEJlZm9yZSB1bmxvYWRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgdGhpcy50cmFja1BhZ2VFeGl0KCk7XG4gICAgICB0aGlzLmZsdXNoKHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGFydEZsdXNoVGltZXIoKTogdm9pZCB7XG4gICAgdGhpcy5mbHVzaFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH0sIDUwMDApOyAvLyBGbHVzaCBldmVyeSA1IHNlY29uZHNcbiAgfVxuXG4gIHByaXZhdGUgc3RvcEZsdXNoVGltZXIoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZmx1c2hUaW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmZsdXNoVGltZXIpO1xuICAgICAgdGhpcy5mbHVzaFRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFkZFRvUXVldWUoZXZlbnQ6IEFuYWx5dGljc0V2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5xdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICBcbiAgICAvLyBGbHVzaCBpbW1lZGlhdGVseSBpZiBxdWV1ZSBpcyBnZXR0aW5nIGxhcmdlXG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID49IDEwKSB7XG4gICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmbHVzaChmb3JjZVNlbmROb3cgPSBmYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGV2ZW50cyA9IFsuLi50aGlzLnF1ZXVlXTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5hcGlFbmRwb2ludH0vdHJhY2tgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBldmVudHMgfSksXG4gICAgICAgIGtlZXBhbGl2ZTogZm9yY2VTZW5kTm93LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2sgJiYgdGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ29zbWljIEFuYWx5dGljczogRmFpbGVkIHRvIHNlbmQgZXZlbnRzJywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgLy8gUmUtYWRkIGV2ZW50cyB0byBxdWV1ZSBmb3IgcmV0cnlcbiAgICAgICAgdGhpcy5xdWV1ZS51bnNoaWZ0KC4uLmV2ZW50cyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdDb3NtaWMgQW5hbHl0aWNzOiBFcnJvciBzZW5kaW5nIGV2ZW50cycsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIC8vIFJlLWFkZCBldmVudHMgdG8gcXVldWUgZm9yIHJldHJ5XG4gICAgICB0aGlzLnF1ZXVlLnVuc2hpZnQoLi4uZXZlbnRzKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdHJhY2tQYWdlVmlldyhvdmVycmlkZXM/OiBQYXJ0aWFsPFBhZ2VWaWV3RXZlbnQ+KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzRW5hYmxlZCB8fCAhaXNCcm93c2VyKCkgfHwgIXRoaXMuc2Vzc2lvbikgcmV0dXJuO1xuICAgIFxuICAgIHRoaXMucGFnZVZpZXdTdGFydCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5zZXNzaW9uLnBhZ2VWaWV3cysrO1xuICAgIHRoaXMuc2Vzc2lvbi5sYXN0QWN0aXZpdHkgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuc2F2ZVNlc3Npb24oKTtcbiAgICBcbiAgICBjb25zdCBldmVudDogUGFnZVZpZXdFdmVudCA9IHtcbiAgICAgIGV2ZW50OiAncGFnZXZpZXcnLFxuICAgICAgcHJvamVjdElkOiB0aGlzLnByb2plY3RJZCxcbiAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uLmlkLFxuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIHRpdGxlOiBkb2N1bWVudC50aXRsZSxcbiAgICAgIHJlZmVycmVyOiBkb2N1bWVudC5yZWZlcnJlciB8fCAnZGlyZWN0JyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHNjcmVlblJlc29sdXRpb246IGdldFNjcmVlblJlc29sdXRpb24oKSxcbiAgICAgIHZpZXdwb3J0OiBnZXRWaWV3cG9ydCgpLFxuICAgICAgbGFuZ3VhZ2U6IG5hdmlnYXRvci5sYW5ndWFnZSxcbiAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIC4uLm92ZXJyaWRlcyxcbiAgICB9O1xuICAgIFxuICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coJ0Nvc21pYyBBbmFseXRpY3M6IFBhZ2UgdmlldycsIGV2ZW50KTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5hZGRUb1F1ZXVlKGV2ZW50KTtcbiAgfVxuXG4gIHB1YmxpYyB0cmFja1BhZ2VFeGl0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0VuYWJsZWQgfHwgIWlzQnJvd3NlcigpIHx8ICF0aGlzLnNlc3Npb24gfHwgIXRoaXMucGFnZVZpZXdTdGFydCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHRoaXMucGFnZVZpZXdTdGFydDtcbiAgICBcbiAgICBjb25zdCBldmVudCA9IHtcbiAgICAgIGV2ZW50OiAncGFnZWV4aXQnIGFzIGNvbnN0LFxuICAgICAgcHJvamVjdElkOiB0aGlzLnByb2plY3RJZCxcbiAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uLmlkLFxuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH07XG4gICAgXG4gICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZygnQ29zbWljIEFuYWx5dGljczogUGFnZSBleGl0JywgZXZlbnQpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmFkZFRvUXVldWUoZXZlbnQpO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgIGlmICghaXNCcm93c2VyKCkpIHJldHVybjtcbiAgICBcbiAgICAvLyBDbGVhciBzZXNzaW9uXG4gICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFNFU1NJT05fU1RPUkFHRV9LRVkpO1xuICAgIFxuICAgIC8vIFJlLWluaXRpYWxpemUgd2l0aCBuZXcgc2Vzc2lvblxuICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgdGhpcy5pbml0aWFsaXplU2Vzc2lvbigpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkaXNhYmxlKCk6IHZvaWQge1xuICAgIHRoaXMuaXNFbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5zdG9wRmx1c2hUaW1lcigpO1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgfVxuXG4gIHB1YmxpYyBlbmFibGUoKTogdm9pZCB7XG4gICAgdGhpcy5pc0VuYWJsZWQgPSB0aGlzLnNob3VsZEVuYWJsZUFuYWx5dGljcygpO1xuICAgIGlmICh0aGlzLmlzRW5hYmxlZCAmJiBpc0Jyb3dzZXIoKSkge1xuICAgICAgdGhpcy5pbml0aWFsaXplU2Vzc2lvbigpO1xuICAgICAgdGhpcy5zdGFydEZsdXNoVGltZXIoKTtcbiAgICB9XG4gIH1cbn0gIiwiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBBbmFseXRpY3NDb25maWcgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyB1c2VDb3NtaWNBbmFseXRpY3MgfSBmcm9tICcuL3VzZUNvc21pY0FuYWx5dGljcyc7XG5cbmludGVyZmFjZSBDb3NtaWNBbmFseXRpY3NQcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgY29uZmlnPzogQW5hbHl0aWNzQ29uZmlnO1xufVxuXG4vKipcbiAqIFByb3ZpZGVyIGNvbXBvbmVudCBmb3IgZWFzeSBpbnRlZ3JhdGlvbiB3aXRoIE5leHQuanMgbGF5b3V0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gQ29zbWljQW5hbHl0aWNzUHJvdmlkZXIoeyBcbiAgY2hpbGRyZW4sIFxuICBjb25maWcgXG59OiBDb3NtaWNBbmFseXRpY3NQcm92aWRlclByb3BzKSB7XG4gIC8vIFJlYWQgdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIGhlcmUgd2hlcmUgTmV4dC5qcyBjYW4gcmVwbGFjZSBpdFxuICBjb25zdCBwcm9qZWN0SWQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DTElFTlRfSUQ7XG4gIGNvbnN0IGlzRGV2ZWxvcG1lbnQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcbiAgXG4gIC8vIE1lcmdlIHRoZSBwcm9qZWN0SWQgd2l0aCB0aGUgcHJvdmlkZWQgY29uZmlnXG4gIGNvbnN0IG1lcmdlZENvbmZpZzogQW5hbHl0aWNzQ29uZmlnID0ge1xuICAgIHByb2plY3RJZCxcbiAgICBpc0RldmVsb3BtZW50LFxuICAgIC4uLmNvbmZpZyxcbiAgfTtcbiAgXG4gIHVzZUNvc21pY0FuYWx5dGljcyhtZXJnZWRDb25maWcpO1xuICBcbiAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjtcbn0gIl0sIm5hbWVzIjpbIm5hdmlnYXRvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/cosmic-analytics/dist/index.mjs\n");

/***/ })

};
;